-- CHAOS CORE - Functional Server Abuse Script (For Private Testing)
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local UIS = game:GetService("UserInputService")
local Debris = game:GetService("Debris")
local Cam = workspace.CurrentCamera
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local HRP = Character:WaitForChild("HumanoidRootPart")
local flying = false
local flightVel

-- Fly System
local function toggleFly()
	flying = not flying
	if flying then
		flightVel = Instance.new("BodyVelocity")
		flightVel.Velocity = Vector3.zero
		flightVel.MaxForce = Vector3.new(1,1,1) * 1e9
		flightVel.Parent = HRP
	else
		if flightVel then flightVel:Destroy() end
	end
end

-- Update Flight
RunService.RenderStepped:Connect(function()
	if flying and flightVel then
		local dir = Vector3.new()
		if UIS:IsKeyDown(Enum.KeyCode.W) then dir += Cam.CFrame.LookVector end
		if UIS:IsKeyDown(Enum.KeyCode.S) then dir -= Cam.CFrame.LookVector end
		if UIS:IsKeyDown(Enum.KeyCode.A) then dir -= Cam.CFrame.RightVector end
		if UIS:IsKeyDown(Enum.KeyCode.D) then dir += Cam.CFrame.RightVector end
		if UIS:IsKeyDown(Enum.KeyCode.Space) then dir += Vector3.new(0,1,0) end
		if UIS:IsKeyDown(Enum.KeyCode.LeftControl) then dir -= Vector3.new(0,1,0) end
		flightVel.Velocity = dir.Unit * 100
	end
end)

-- Fling Function
local function flingEveryone()
	for _, p in pairs(Players:GetPlayers()) do
		if p ~= LocalPlayer and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
			local target = p.Character.HumanoidRootPart
			if (target.Position - HRP.Position).Magnitude <= 25 then
				local bv = Instance.new("BodyVelocity", target)
				bv.Velocity = Vector3.new(math.random(-500,500), 800, math.random(-500,500))
				bv.MaxForce = Vector3.new(1e5,1e5,1e5)
				Debris:AddItem(bv, 0.3)
			end
		end
	end
end

-- Spam Parts
local function dropParts()
	for i = 1, 15 do
		local p = Instance.new("Part", workspace)
		p.Size = Vector3.new(4,4,4)
		p.Position = HRP.Position + Vector3.new(math.random(-50,50), 60, math.random(-50,50))
		p.Anchored = false
		p.CanCollide = true
		p.BrickColor = BrickColor.Random()
		p.Material = Enum.Material.Slate
		p.Name = "ChaosBlock"
		local fire = Instance.new("Fire", p)
		fire.Heat = 20
		fire.Size = 10
		Debris:AddItem(p, 10)
	end
end

-- Server Chat Spam (works in FE-disabled or vulnerable remotes)
local function chatSpam()
	local msg = "ðŸ”Š BOW BEFORE " .. LocalPlayer.Name .. " ðŸ”¥"
	local args = {
		[1] = msg,
		[2] = "All"
	}

	for _, v in pairs(getgc(true)) do
		if typeof(v) == "function" and getfenv(v).script then
			local con = debug.getconstants(v)
			if table.find(con, "SayMessageRequest") and table.find(con, "FireServer") then
				pcall(function() v(msg, "All") end)
			end
		end
	end

	pcall(function()
		game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.SayMessageRequest:FireServer(msg, "All")
	end)
end

-- Loud Sound
local function scream()
	local s = Instance.new("Sound", HRP)
	s.SoundId = "rbxassetid://138186576" -- Bruh
	s.Volume = 10
	s:Play()
	Debris:AddItem(s, 3)
end

-- Keybinds
UIS.InputBegan:Connect(function(i, gpe)
	if gpe then return end
	if i.KeyCode == Enum.KeyCode.E then toggleFly() end
	if i.KeyCode == Enum.KeyCode.F then flingEveryone() end
	if i.KeyCode == Enum.KeyCode.T then dropParts() end
	if i.KeyCode == Enum.KeyCode.Q then chatSpam() end
	if i.KeyCode == Enum.KeyCode.R then scream() end
end)
